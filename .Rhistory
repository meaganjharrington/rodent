usethis::use_github()
use_devtools()
devtools::check()
use_r("run_sir_step")
load_all()
run_sir_step()
load_all()
run_sir_step()
run_sir_step(N=100, I0=1, gamma=0, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
load_all()
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
load_all()
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
load_all()
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
load_all()
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
use_devtools()
load_all()
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
rm(list=ls())
load_all()
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
load_all()
load_all()
load_all()
load_all()
run_sir_step()
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
load_all()
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
load_all()
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
load_all()
run_sir_step(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, times=seq(0,100,by=1))
?run_sir_step
load_all()
sir_onestep(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50)
sir_onestep(N=100, I0=0, gamma=0.01, beta1=0.5, beta2=2, change_time=50)
devtools::check()
usethis::use_mit_license()
devtools::check()
load_all()
sir_onestep(N=100, I0=0, gamma=0.01, beta1=0.5, beta2=2, change_time=50, end_time = 100)
sir_onestep(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50, end_time = 100)
sir_onestep(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, change_time=50)
use_r("sir_nostep")
load_all()
sir_nostep(N=100, I0=1, gamma=0.01, beta=0.5, change_time=50)
devtools::document()
load_all()
sir_nostep(N=100, I0=1, gamma=0.01, beta=0.5, change_time=50)
devtools::load_all()
getNamespaceExports("epievolve")
exists("sir_nostep", envir = asNamespace("epievolve"), inherits = FALSE)
devtools::load_all()
getNamespaceExports("epievolve")
use_r("sir_twostep")
load_all()
sir_twostep(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, beta3 = 3, change_time1=50, change_time2 = 100, end_time = 150)
sir_twostep(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, beta3 = 3, change_time1=50, change_time2 = 100, end_time = 150)
load_all()
sir_twostep(N=100, I0=1, gamma=0.01, beta1=0.5, beta2=2, beta3 = 3, change_time1=50, change_time2 = 100, end_time = 150)
use_r("sir_manysteps")
load_all()
check()
check()
usethis::use_testthat(3)
usethis::use_test()
use_r("fit_nostep")
load_all()
# Read your incidence.csv (must be daily data; remove missing rows)
df <- read.csv("incidence.csv", stringsAsFactors = FALSE)
usethis::use_test("test-fit_nostep")
document()
test()
use_r("likelihoods")
devtools::document()
devtools::load_all()  # quick local check
devtools::test()      # run tests
devtools::document()
devtools::load_all()  # quick local check
devtools::test()      # run tests
devtools::document()
devtools::load_all()  # quick local check
devtools::test()      # run tests
devtools::document()
devtools::load_all()  # quick local check
devtools::test()      # run tests
devtools::document()
devtools::load_all()  # quick local check
devtools::test()      # run tests
devtools::document()
devtools::load_all()  # quick local check
devtools::test()      # run tests
use_r("priors")
devtools::document()
devtools::load_all()  # quick local check
devtools::test()      # run tests
use_r("fit_onesteo")
use_r("fit_onestep")
use_r("retry_fit_nostep")
load_all()
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::load_all()
# Load data (must have columns 'time', 'cases')
inc <- read.csv("tests/testthat/incidence.csv")
# Fit with fixed gamma, Negative Binomial observation
fit <- fit_sir_nostep(
incidence_data = inc,
N = 1e6,
gamma = 0.14,     # ~1/7 per day infectious period
estimate_gamma = FALSE,
use_negbin = TRUE,
nb_size = 10,
rho = 1.0,
n_steps = 2500,
n_chains = 3
)
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::load_all()
# Load data (must have columns 'time', 'cases')
inc <- read.csv("tests/testthat/incidence.csv")
# Fit with fixed gamma, Negative Binomial observation
fit <- fit_sir_nostep(
incidence_data = inc,
N = 1e6,
gamma = 0.14,     # ~1/7 per day infectious period
estimate_gamma = FALSE,
use_negbin = TRUE,
nb_size = 10,
rho = 1.0,
n_steps = 2500,
n_chains = 3
)
monty::monty_dsl_error_explain("E205")
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::load_all()
# Load data (must have columns 'time', 'cases')
inc <- read.csv("tests/testthat/incidence.csv")
# Fit with fixed gamma, Negative Binomial observation
fit <- fit_sir_nostep(
incidence_data = inc,
N = 1e6,
gamma = 0.14,     # ~1/7 per day infectious period
estimate_gamma = FALSE,
use_negbin = TRUE,
nb_size = 10,
rho = 1.0,
n_steps = 2500,
n_chains = 3
)
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::load_all()
# Load data (must have columns 'time', 'cases')
inc <- read.csv("tests/testthat/incidence.csv")
# Fit with fixed gamma, Negative Binomial observation
fit <- fit_sir_nostep(
incidence_data = inc,
N = 1e6,
gamma = 0.14,     # ~1/7 per day infectious period
estimate_gamma = FALSE,
use_negbin = TRUE,
nb_size = 10,
rho = 1.0,
n_steps = 2500,
n_chains = 3
)
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::load_all()
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::load_all()
# Example usage
inc <- read.csv("tests/testthat/incidence.csv")
fit <- fit_sir_mh_simple(
cases = inc$cases,
N = 1e6,
gamma = 0.14,               # ~1/7 per day infectious duration
n_steps = 4000,             # total MH iterations
burnin_frac = 0.5,          # drop the first half
proposal_sd_logbeta = 0.10, # tune for ~20–40% acceptance
use_negbin = TRUE,
nb_size = 10,
seed = 1
)
# Example usage
inc <- read.csv("tests/testthat/incidence.csv")
fit <- retry_fit_nostep(
cases = inc$cases,
N = 1e6,
gamma = 0.14,               # ~1/7 per day infectious duration
n_steps = 4000,             # total MH iterations
burnin_frac = 0.5,          # drop the first half
proposal_sd_logbeta = 0.10, # tune for ~20–40% acceptance
use_negbin = TRUE,
nb_size = 10,
seed = 1
)
fit$estimates                 # medians + 95% CrI for beta and R0
fit$diagnostics$acceptance_rate
head(fit$R_t)
head(fit$fitted_incidence)
# Example usage
inc <- read.csv("tests/testthat/incidence.csv")
fit <- retry_fit_nostep(
cases = inc$cases,
N = 1e6,
gamma = 0.14,               # ~1/7 per day infectious duration
n_steps = 4000,             # total MH iterations
burnin_frac = 0.5,          # drop the first half
proposal_sd_logbeta = 0.05, # tune for ~20–40% acceptance
use_negbin = TRUE,
nb_size = 10,
seed = 1
)
fit$estimates                 # medians + 95% CrI for beta and R0
fit$diagnostics$acceptance_rate
head(fit$R_t)
head(fit$fitted_incidence)
# Example usage
inc <- read.csv("tests/testthat/incidence.csv")
fit <- retry_fit_nostep(
cases = inc$cases,
N = 1e6,
gamma = 0.14,               # ~1/7 per day infectious duration
n_steps = 4000,             # total MH iterations
burnin_frac = 0.5,          # drop the first half
proposal_sd_logbeta = 0.03, # tune for ~20–40% acceptance
use_negbin = TRUE,
nb_size = 10,
seed = 1
)
fit$estimates                 # medians + 95% CrI for beta and R0
fit$diagnostics$acceptance_rate
head(fit$R_t)
head(fit$fitted_incidence)
fit$diagnostics$I0
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::load_all()
devtools::document()  # rebuild NAMESPACE from your roxygen comments
devtools::load_all()
devtools::document()
devtools::load_all()
inc <- read.csv("tests/testthat/incidence.csv")
fit <- retry_fit_nostep(
cases = inc$cases,
N = 1e6,
gamma = 0.14,
n_steps = 4000,
burnin_frac = 0.5,
# Tuned proposals: aim for ~20–40% acceptance on each parameter
proposal_sd_logbeta = 0.03,
proposal_sd_logI0   = 0.10,
use_negbin = TRUE,
nb_size = 10,
seed = 1
)
fit$estimates
fit$diagnostics$acceptance_beta
fit$diagnostics$acceptance_I0
use_r("redo_fit")
user_r("DONTUSE_notes")
use_r("DONTUSE_notes")
use_r("odin_sir")
use_r("estimate_rt_simple")
document()
document()
parse(file = "R/estimate_rt_simple.R")
parse(file = "R/estimate_rt_simple.R")
document()
document()
document()
load_all()
devtools::document()
devtools::document()
# List all R scripts
files <- list.files("R", pattern = "\\.R$", full.names = TRUE)
# Search for the old names or export tags
grep("fit_sir_nostep", files, value = TRUE)          # which files mention the name
grep("retry_fit_nostep", files, value = TRUE)         # which files mention the name
# Search for generic @export tags (you may want to inspect by file)
lapply(files, function(f) {
if (any(grepl("@export", readLines(f)))) f
})
devtools::document()
load_all()
inc <- data.frame(
time  = 0:20,
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2)
)
fit <- estimate_rt_constant(inc, N = 1e6, gamma = 1/7)
fit    # should print concise medians & CIs
library(odin2); library(dust2); library(monty)
# 1) Minimal generator (must have cases ~ Poisson(inc_step))
gen <- make_sir_generator()
# 2) Tiny synthetic data with time, cases
inc <- data.frame(
time  = 0:20,  # will be normalized to 1..T inside the function
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2)
)
## 3) Run the constant-beta fit
fit <- estimate_rt_constant(incidence = inc, N = 1e6, gamma = 1/7)
load_all()
load_all()
load_all()
library(odin2); library(dust2); library(monty)
# 1) Minimal generator (must have cases ~ Poisson(inc_step))
gen <- make_sir_generator()
# 2) Tiny synthetic data with time, cases
inc <- data.frame(
time  = 0:20,  # will be normalized to 1..T inside the function
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2)
)
## 3) Run the constant-beta fit
fit <- estimate_rt_constant(incidence = inc, N = 1e6, gamma = 1/7)
load_all()
library(odin2); library(dust2); library(monty)
# 1) Minimal generator (must have cases ~ Poisson(inc_step))
gen <- make_sir_generator()
# 2) Tiny synthetic data with time, cases
inc <- data.frame(
time  = 0:20,  # will be normalized to 1..T inside the function
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2)
)
## 3) Run the constant-beta fit
fit <- estimate_rt_constant(incidence = inc, N = 1e6, gamma = 1/7)
load_all()
load_all()
library(odin2); library(dust2); library(monty)
# 1) Minimal generator (must have cases ~ Poisson(inc_step))
gen <- make_sir_generator()
# 2) Tiny synthetic data with time, cases
inc <- data.frame(
time  = 0:20,  # will be normalized to 1..T inside the function
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2)
)
## 3) Run the constant-beta fit
fit <- estimate_rt_constant(incidence = inc, N = 1e6, gamma = 1/7)
load_all()
library(odin2); library(dust2); library(monty)
# 1) Minimal generator (must have cases ~ Poisson(inc_step))
gen <- make_sir_generator()
# 2) Tiny synthetic data with time, cases
inc <- data.frame(
time  = 0:20,  # will be normalized to 1..T inside the function
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2)
)
## 3) Run the constant-beta fit
fit <- estimate_rt_constant(incidence = inc, N = 1e6, gamma = 1/7)
load_all()
library(odin2); library(dust2); library(monty)
# 1) Minimal generator (must have cases ~ Poisson(inc_step))
gen <- make_sir_generator()
# 2) Tiny synthetic data with time, cases
inc <- data.frame(
time  = 0:20,  # will be normalized to 1..T inside the function
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2)
)
## 3) Run the constant-beta fit
fit <- estimate_rt_constant(incidence = inc, N = 1e6, gamma = 1/7)
# 4) Check concise outputs (no PPCs, no extra columns)
fit$estimates
load_all()
library(odin2); library(dust2); library(monty)
# 1) Minimal generator (must have cases ~ Poisson(inc_step))
gen <- make_sir_generator()
# 2) Tiny synthetic data with time, cases
inc <- data.frame(
time  = 0:20,  # will be normalized to 1..T inside the function
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2)
)
## 3) Run the constant-beta fit
fit <- estimate_rt_constant(incidence = inc, N = 1e6, gamma = 1/7)
library(odin2); library(dust2); library(monty)
gen <- make_sir_generator()
inc <- data.frame(time =inc <- data.frame(time = 0:20,
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2))
fit <- estimate_rt_constant(incidence = inc, N = 1e6, gamma = 1/7)
library(odin2); library(dust2); library(monty)
gen <- make_sir_generator()
inc <- data.frame(time =inc <- data.frame(time = 0:20,
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2))
fit <- estimate_rt_constant(incidence = inc, N = 1e6, gamma = 1/7)
library(odin2); library(dust2); library(monty)
gen <- make_sir_generator()
inc <- data.frame(time =inc <- data.frame(time = 0:20,
cases = c(3,4,6,9,12,15,18,20,19,17,15,13,11,9,8,7,6,5,4,3,2))
fit <- estimate_rt_constant(incidence = inc, N = 1e6, gamma = 1/7)
use_r("estimate_rt_nopriors")
usethis::use_readme_rmd()
usethis::use_readme_rmd()
pkg_name_check(metro, dictionaries = NULL)
library(available)
available::available("TIDE")
available::available("epievolve")
available::available("MetRo")
available::available("stReam")
install.packages("outbreaks")
